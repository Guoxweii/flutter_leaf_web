!function(){function e(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}System.register(["./main-legacy-BEP8B0aF.bundle.js","./VImg-legacy-gQ52oPSN.bundle.js","./index-legacy-BtD6u1dA.bundle.js","./VSheet-legacy-C6jJDVch.bundle.js","./index-legacy-wIfogmto.bundle.js","./ssrBoot-legacy-BZm9uH21.bundle.js"],(function(t,n){"use strict";var s,r,i,l,o,a,d,u,c,p,f,m,v,h,g,E,_,y,x,w,b,R,P,T,L,F,I,M,S,z,Y,j,X,k;return{setters:[e=>{s=e.D,r=e.d,i=e.v,l=e.E,o=e.G,a=e.H,d=e.a,u=e.e,c=e.I,p=e.s,f=e.o,m=e.J,v=e.B,h=e.u,g=e.L,E=e.c,_=e.w,y=e.h,x=e.f,w=e.A,b=e.z,R=e.y,P=e.F,T=e.M,L=e.N,F=e.O,I=e._},e=>{M=e.V},e=>{S=e.V},e=>{z=e.V,Y=e.a,j=e.b,X=e.c,k=e.d},null,null],execute:function(){var n=document.createElement("style");n.textContent=".profile-bg[data-v-b97c2d46]{background:linear-gradient(to bottom,#198695 25%,transparent 25%)}\n",document.head.appendChild(n);class D{constructor(){e(this,"id",void 0),e(this,"title",void 0),e(this,"content",void 0),e(this,"expired_at",void 0),e(this,"published_at",void 0),e(this,"publisher_name",void 0),e(this,"category",void 0),e(this,"category_text",void 0),e(this,"modal",void 0),e(this,"url",void 0)}}const H=class extends s{constructor(...t){super(...t),e(this,"method","GET"),e(this,"endpoint","/v4/students/clazzes/{clazz}/notices")}processResponse(e){return this.responseToArray(e,D)}};var O={pullStartY:null,pullMoveY:null,handlers:[],styleEl:null,events:null,dist:0,state:"pending",timeout:null,distResisted:0,supportsPassive:!1,supportsPointerEvents:"undefined"!=typeof window&&!!window.PointerEvent};try{window.addEventListener("test",null,{get passive(){O.supportsPassive=!0}})}catch(fe){}var V,A={setupDOM:function(e){if(!e.ptrElement){var t=document.createElement("div");e.mainElement!==document.body?e.mainElement.parentNode.insertBefore(t,e.mainElement):document.body.insertBefore(t,document.body.firstChild),t.classList.add(e.classPrefix+"ptr"),t.innerHTML=e.getMarkup().replace(/__PREFIX__/g,e.classPrefix),e.ptrElement=t,"function"==typeof e.onInit&&e.onInit(e),O.styleEl||(O.styleEl=document.createElement("style"),O.styleEl.setAttribute("id","pull-to-refresh-js-style"),document.head.appendChild(O.styleEl)),O.styleEl.textContent=e.getStyles().replace(/__PREFIX__/g,e.classPrefix).replace(/\s+/g," ")}return e},onReset:function(e){e.ptrElement&&(e.ptrElement.classList.remove(e.classPrefix+"refresh"),e.ptrElement.style[e.cssProp]="0px",setTimeout((function(){e.ptrElement&&e.ptrElement.parentNode&&(e.ptrElement.parentNode.removeChild(e.ptrElement),e.ptrElement=null),O.state="pending"}),e.refreshTimeout))},update:function(e){var t=e.ptrElement.querySelector("."+e.classPrefix+"icon"),n=e.ptrElement.querySelector("."+e.classPrefix+"text");t&&("refreshing"===O.state?t.innerHTML=e.iconRefreshing:t.innerHTML=e.iconArrow),n&&("releasing"===O.state&&(n.innerHTML=e.instructionsReleaseToRefresh),"pulling"!==O.state&&"pending"!==O.state||(n.innerHTML=e.instructionsPullToRefresh),"refreshing"===O.state&&(n.innerHTML=e.instructionsRefreshing))}},C=function(e){return O.pointerEventsEnabled&&O.supportsPointerEvents?e.screenY:e.touches[0].screenY},N=function(){var e;function t(t){var n=O.handlers.filter((function(e){return e.contains(t.target)}))[0];O.enable=!!n,n&&"pending"===O.state&&(e=A.setupDOM(n),n.shouldPullToRefresh()&&(O.pullStartY=C(t)),clearTimeout(O.timeout),A.update(n))}function n(t){e&&e.ptrElement&&O.enable&&(O.pullStartY?O.pullMoveY=C(t):e.shouldPullToRefresh()&&(O.pullStartY=C(t)),"refreshing"!==O.state?("pending"===O.state&&(e.ptrElement.classList.add(e.classPrefix+"pull"),O.state="pulling",A.update(e)),O.pullStartY&&O.pullMoveY&&(O.dist=O.pullMoveY-O.pullStartY),O.distExtra=O.dist-e.distIgnore,O.distExtra>0&&(t.cancelable&&t.preventDefault(),e.ptrElement.style[e.cssProp]=O.distResisted+"px",O.distResisted=e.resistanceFunction(O.distExtra/e.distThreshold)*Math.min(e.distMax,O.distExtra),"pulling"===O.state&&O.distResisted>e.distThreshold&&(e.ptrElement.classList.add(e.classPrefix+"release"),O.state="releasing",A.update(e)),"releasing"===O.state&&O.distResisted<e.distThreshold&&(e.ptrElement.classList.remove(e.classPrefix+"release"),O.state="pulling",A.update(e)))):t.cancelable&&e.shouldPullToRefresh()&&O.pullStartY<O.pullMoveY&&t.preventDefault())}function s(){if(e&&e.ptrElement&&O.enable){if(clearTimeout(V),V=setTimeout((function(){e&&e.ptrElement&&"pending"===O.state&&A.onReset(e)}),500),"releasing"===O.state&&O.distResisted>e.distThreshold)O.state="refreshing",e.ptrElement.style[e.cssProp]=e.distReload+"px",e.ptrElement.classList.add(e.classPrefix+"refresh"),O.timeout=setTimeout((function(){var t=e.onRefresh((function(){return A.onReset(e)}));t&&"function"==typeof t.then&&t.then((function(){return A.onReset(e)})),t||e.onRefresh.length||A.onReset(e)}),e.refreshTimeout);else{if("refreshing"===O.state)return;e.ptrElement.style[e.cssProp]="0px",O.state="pending"}A.update(e),e.ptrElement.classList.remove(e.classPrefix+"release"),e.ptrElement.classList.remove(e.classPrefix+"pull"),O.pullStartY=O.pullMoveY=null,O.dist=O.distResisted=0}}function r(){e&&e.mainElement.classList.toggle(e.classPrefix+"top",e.shouldPullToRefresh())}var i=O.supportsPassive?{passive:O.passive||!1}:void 0;return O.pointerEventsEnabled&&O.supportsPointerEvents?(window.addEventListener("pointerup",s),window.addEventListener("pointerdown",t),window.addEventListener("pointermove",n,i)):(window.addEventListener("touchend",s),window.addEventListener("touchstart",t),window.addEventListener("touchmove",n,i)),window.addEventListener("scroll",r),{onTouchEnd:s,onTouchStart:t,onTouchMove:n,onScroll:r,destroy:function(){O.pointerEventsEnabled&&O.supportsPointerEvents?(window.removeEventListener("pointerdown",t),window.removeEventListener("pointerup",s),window.removeEventListener("pointermove",n,i)):(window.removeEventListener("touchstart",t),window.removeEventListener("touchend",s),window.removeEventListener("touchmove",n,i)),window.removeEventListener("scroll",r)}}},q={distThreshold:60,distMax:80,distReload:50,distIgnore:0,mainElement:"body",triggerElement:"body",ptrElement:".ptr",classPrefix:"ptr--",cssProp:"min-height",iconArrow:"&#8675;",iconRefreshing:"&hellip;",instructionsPullToRefresh:"Pull down to refresh",instructionsReleaseToRefresh:"Release to refresh",instructionsRefreshing:"Refreshing",refreshTimeout:500,getMarkup:function(){return'\n<div class="__PREFIX__box">\n  <div class="__PREFIX__content">\n    <div class="__PREFIX__icon"></div>\n    <div class="__PREFIX__text"></div>\n  </div>\n</div>\n'},getStyles:function(){return"\n.__PREFIX__ptr {\n  box-shadow: inset 0 -3px 5px rgba(0, 0, 0, 0.12);\n  pointer-events: none;\n  font-size: 0.85em;\n  font-weight: bold;\n  top: 0;\n  height: 0;\n  transition: height 0.3s, min-height 0.3s;\n  text-align: center;\n  width: 100%;\n  overflow: hidden;\n  display: flex;\n  align-items: flex-end;\n  align-content: stretch;\n}\n\n.__PREFIX__box {\n  padding: 10px;\n  flex-basis: 100%;\n}\n\n.__PREFIX__pull {\n  transition: none;\n}\n\n.__PREFIX__text {\n  margin-top: .33em;\n  color: rgba(0, 0, 0, 0.3);\n}\n\n.__PREFIX__icon {\n  color: rgba(0, 0, 0, 0.3);\n  transition: transform .3s;\n}\n\n/*\nWhen at the top of the page, disable vertical overscroll so passive touch\nlisteners can take over.\n*/\n.__PREFIX__top {\n  touch-action: pan-x pan-down pinch-zoom;\n}\n\n.__PREFIX__release .__PREFIX__icon {\n  transform: rotate(180deg);\n}\n"},onInit:function(){},onRefresh:function(){return location.reload()},resistanceFunction:function(e){return Math.min(1,e/2.5)},shouldPullToRefresh:function(){return!window.scrollY}},B=["mainElement","ptrElement","triggerElement"],G=function(e){var t={};return Object.keys(q).forEach((function(n){t[n]=e[n]||q[n]})),t.refreshTimeout="number"==typeof e.refreshTimeout?e.refreshTimeout:q.refreshTimeout,B.forEach((function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))})),O.events||(O.events=N()),t.contains=function(e){return t.triggerElement.contains(e)},t.destroy=function(){clearTimeout(O.timeout);var e=O.handlers.indexOf(t);O.handlers.splice(e,1)},t},J=function(e){void 0===e&&(e={});var t=G(e);return O.handlers.push(t),t};A.setupDOM,A.onReset,A.update;const W=r({__name:"PullDown",props:{onRefreshFunc:{type:Function}},setup(e){const t=e;p();const n=i(null),s=i(null);return l((()=>{o((()=>{s.value=J({mainElement:"body",distReload:70,iconArrow:"<i class='fas fa-arrow-down'></i>",iconRefreshing:"<i class='fad fa-spinner-third fa-spin'></i>",instructionsPullToRefresh:"下拉刷新",instructionsRefreshing:"正在刷新",instructionsReleaseToRefresh:"释放刷新",onRefresh:async()=>{try{t.onRefreshFunc&&"function"==typeof t.onRefreshFunc?await t.onRefreshFunc():window.location.reload()}catch(e){throw console.error(e),e}}})}))})),a((()=>{o((()=>{var e;null===(e=s.value)||void 0===e||e.destroy()}))})),(e,t)=>(f(),d("div",{ref_key:"el",ref:n},[u("div",null,[c(e.$slots,"default")])],512))}}),$=e=>(L("data-v-b97c2d46"),e=e(),F(),e),K={class:"pa-5 d-flex flex-column ga-5 profile-bg"},Q={class:"profile d-flex text-white"},U={class:"d-flex align-center justify-center fill-height"},Z={class:"d-flex flex-column justify-end"},ee={class:"text-h5 mr-3"},te={class:"text-caption"},ne={class:"mr-3"},se={class:"text-caption"},re=$((()=>u("p",{class:"text-body-1"},"账户详情",-1))),ie={class:"text-medium-emphasis"},le=$((()=>u("p",{class:"text-body-1"},"消息通知",-1))),oe=$((()=>u("i",{class:"far fa-chevron-right"},null,-1))),ae={key:1,class:"text-medium-emphasis"},de=$((()=>u("p",{class:"text-body-1"},"我的班级",-1))),ue=$((()=>u("p",{class:"text-body-1"},"支持帮助",-1))),ce=$((()=>u("p",{class:"d-flex justify-space-between"},[u("span",null,"客服电话"),u("span",{class:"text-medium-emphasis"},"support@ll100.com")],-1))),pe=$((()=>u("p",{class:"d-flex justify-space-between"},[u("span",null,"投诉邮箱"),u("span",{class:"text-medium-emphasis"},"173-0170-7535")],-1)));t("default",I(r({__name:"basic",async setup(e){let t,n;const s=m().proxy,r=v(),i=h(),l=r.account,o=([t,n]=g((()=>(new H).setup(s,(e=>{e.interpolations.clazz=null==l?void 0:l.student_extra.primary_clazz.id,e.query={filter:"available"}})).perform())),t=await t,n(),t);return(e,t)=>(f(),E(W,{onRefreshFunc:t[0]||(t[0]=e=>y(i).reload())},{default:_((()=>{var e,t,n,s,r,i;return[u("div",K,[u("div",Q,[x(z,{elevation:"5",border:"",class:"overflow-hidden mr-5",rounded:"lg",width:"5rem",height:"5rem"},{default:_((()=>{var e,t;return[x(M,{width:"100%","aspect-ratio":"1/1",cover:"",src:null===(e=y(l))||void 0===e?void 0:e.avatar_info.getVersion().url,"lazy-src":null===(t=y(l))||void 0===t?void 0:t.avatar_info.getVersion(["thumb"]).url},{placeholder:_((()=>[u("div",U,[x(S,{color:"grey-lighten-4",indeterminate:""})])])),_:1},8,["src","lazy-src"])]})),_:1}),u("div",Z,[u("div",null,[u("span",ee,w(null===(e=y(l))||void 0===e?void 0:e.name),1),u("i",{class:b((i=null===(t=y(l))||void 0===t?void 0:t.gender,"male"===i?"far fa-mars":"female"===i?"far fa-venus":"far fa-genderless"))},null,2)]),u("p",te,[u("span",ne,w(null===(n=y(l))||void 0===n?void 0:n.student_extra.primary_clazz.fullname),1),u("span",null,w(null===(s=y(l))||void 0===s?void 0:s.student_extra.primary_school.name),1)]),u("p",se,"ID: "+w(null===(r=y(l))||void 0===r?void 0:r.usercode),1)])]),x(j,{elevation:"5"},{text:_((()=>{var e;return[re,x(Y,{class:"my-2"}),(f(!0),d(P,null,R(null===(e=y(l))||void 0===e?void 0:e.subscriptions,(e=>(f(),d("p",null,[u("span",ie,w(e.name)+": ",1),u("span",null,w(y(T)(e.expired_on,"year_month_day")),1)])))),256))]})),_:1}),x(j,{elevation:"5"},{text:_((()=>[le,x(Y,{class:"my-2"}),y(o).length>0?(f(),E(X,{key:0,class:"pa-0"},{default:_((()=>[(f(!0),d(P,null,R(y(o),(e=>(f(),E(k,{key:e.id,class:"pa-0",style:{"min-height":"20px"}},{default:_((()=>[u("p",null,w(e.title),1)])),append:_((()=>[oe])),_:2},1024)))),128))])),_:1})):(f(),d("p",ae,"暂无消息通知"))])),_:1}),x(j,{elevation:"5"},{text:_((()=>{var e;return[de,x(Y,{class:"my-2"}),u("p",null,w(null===(e=y(l))||void 0===e?void 0:e.student_extra.primary_clazz.fullname),1)]})),_:1}),x(j,{elevation:"5"},{text:_((()=>[ue,x(Y,{class:"my-2"}),ce,pe])),_:1})])]})),_:1}))}}),[["__scopeId","data-v-b97c2d46"]]))}}}))}();
